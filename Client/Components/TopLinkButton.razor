@inject IJSRuntime JSRuntime

<script>
	function scrollToId(id) {
		const element = document.getElementById(id);
		if (element instanceof HTMLElement) {
			element.scrollIntoView({
				behavior: "smooth",
				block: "start",
				inline: "nearest"
			});
		}
	}
</script>

@if (HRef.StartsWith("#"))
{
	<MudButton Size="Size.Large" OnClick="@ScrollTo" Color="Color.Inherit">
		@LinkDetail.Content
	</MudButton>
}
else
{
	<MudButton Size="Size.Large" Href="@HRef" Color="Color.Inherit">
		@LinkDetail.Content
	</MudButton>
}

@code {
	[Parameter, EditorRequired]
	public LinkDetails LinkDetail { get; set; } = null!;

	private string HRef => LinkDetail.HRef;

	private void ScrollTo()
	{
		var elementId = HRef.Substring(1);
		if (string.IsNullOrEmpty(elementId))
		{
			elementId = "app";
		}
		JSRuntime.InvokeVoidAsync("scrollToId", elementId);
	}
}
